import r from"./dwg2dxf_optim.wasm";export default function(e){var t,n,o,a,i,s,u,l,c,d,f,m,p,h,$,w,v,g,y,E=void 0!==(e=e||{})?e:{};E.ready=new Promise(function(r,e){t=r,n=e});var _=Object.assign({},E),k=[],b="./this.program",S=(r,e)=>{throw e},D=E.print||console.log.bind(console),F=E.printErr||console.warn.bind(console);Object.assign(E,_),_=null,E.arguments&&(k=E.arguments),E.thisProgram&&(b=E.thisProgram),E.quit&&(S=E.quit);var P=r;E.wasmBinary&&(P=E.wasmBinary);var A=E.noExitRuntime||!0;"object"!=typeof WebAssembly&&G("no native wasm support detected");var R=!1,M="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function x(r,e,t){for(var n=e+t,o=e;r[o]&&!(o>=n);)++o;if(o-e>16&&r.buffer&&M)return M.decode(r.subarray(e,o));for(var a="";e<o;){var i=r[e++];if(!(128&i)){a+=String.fromCharCode(i);continue}var s=63&r[e++];if((224&i)==192){a+=String.fromCharCode((31&i)<<6|s);continue}var u=63&r[e++];if((i=(240&i)==224?(15&i)<<12|s<<6|u:(7&i)<<18|s<<12|u<<6|63&r[e++])<65536)a+=String.fromCharCode(i);else{var l=i-65536;a+=String.fromCharCode(55296|l>>10,56320|1023&l)}}return a}function z(r,e){return r?x(c,r,e):""}function B(r,e,t,n){if(!(n>0))return 0;for(var o=t,a=t+n-1,i=0;i<r.length;++i){var s=r.charCodeAt(i);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&r.charCodeAt(++i)),s<=127){if(t>=a)break;e[t++]=s}else if(s<=2047){if(t+1>=a)break;e[t++]=192|s>>6,e[t++]=128|63&s}else if(s<=65535){if(t+2>=a)break;e[t++]=224|s>>12,e[t++]=128|s>>6&63,e[t++]=128|63&s}else{if(t+3>=a)break;e[t++]=240|s>>18,e[t++]=128|s>>12&63,e[t++]=128|s>>6&63,e[t++]=128|63&s}}return e[t]=0,t-o}function N(r){for(var e=0,t=0;t<r.length;++t){var n=r.charCodeAt(t);n<=127?e++:n<=2047?e+=2:n>=55296&&n<=57343?(e+=4,++t):e+=3}return e}E.INITIAL_MEMORY;var O=[],T=[],j=[],C=[],I=!1;function L(){return A}function H(r){O.unshift(r)}function Y(r){C.unshift(r)}var q=0,W=null,U=null;function V(r){return r}function X(r){q++,E.monitorRunDependencies&&E.monitorRunDependencies(q)}function K(r){if(q--,E.monitorRunDependencies&&E.monitorRunDependencies(q),0==q&&(null!==W&&(clearInterval(W),W=null),U)){var e=U;U=null,e()}}function G(r){E.onAbort&&E.onAbort(r),F(r="Aborted("+r+")"),R=!0,s=1,r+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(r);throw n(e),e}function J(r){this.name="ExitStatus",this.message="Program terminated with exit("+r+")",this.status=r}function Z(r){for(;r.length>0;)r.shift()(E)}var Q={isAbs:r=>"/"===r.charAt(0),splitPath:r=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(r).slice(1),normalizeArray(r,e){for(var t=0,n=r.length-1;n>=0;n--){var o=r[n];"."===o?r.splice(n,1):".."===o?(r.splice(n,1),t++):t&&(r.splice(n,1),t--)}if(e)for(;t;t--)r.unshift("..");return r},normalize(r){var e=Q.isAbs(r),t="/"===r.substr(-1);return(r=Q.normalizeArray(r.split("/").filter(r=>!!r),!e).join("/"))||e||(r="."),r&&t&&(r+="/"),(e?"/":"")+r},dirname(r){var e=Q.splitPath(r),t=e[0],n=e[1];return t||n?(n&&(n=n.substr(0,n.length-1)),t+n):"."},basename(r){if("/"===r)return"/";var e=(r=(r=Q.normalize(r)).replace(/\/$/,"")).lastIndexOf("/");return -1===e?r:r.substr(e+1)},join:function(){var r=Array.prototype.slice.call(arguments);return Q.normalize(r.join("/"))},join2:(r,e)=>Q.normalize(r+"/"+e)},rr={resolve:function(){for(var r="",e=!1,t=arguments.length-1;t>=-1&&!e;t--){var n=t>=0?arguments[t]:ra.cwd();if("string"!=typeof n)throw TypeError("Arguments to path.resolve must be strings");if(!n)return"";r=n+"/"+r,e=Q.isAbs(n)}return r=Q.normalizeArray(r.split("/").filter(r=>!!r),!e).join("/"),(e?"/":"")+r||"."},relative(r,e){function t(r){for(var e=0;e<r.length&&""===r[e];e++);for(var t=r.length-1;t>=0&&""===r[t];t--);return e>t?[]:r.slice(e,t-e+1)}r=rr.resolve(r).substr(1),e=rr.resolve(e).substr(1);for(var n=t(r.split("/")),o=t(e.split("/")),a=Math.min(n.length,o.length),i=a,s=0;s<a;s++)if(n[s]!==o[s]){i=s;break}for(var u=[],s=i;s<n.length;s++)u.push("..");return(u=u.concat(o.slice(i))).join("/")}};function re(r,e,t){var n=t>0?t:N(r)+1,o=Array(n),a=B(r,o,0,o.length);return e&&(o.length=a),o}var rt={ttys:[],init:function(){},shutdown:function(){},register:function(r,e){rt.ttys[r]={input:[],output:[],ops:e},ra.registerDevice(r,rt.stream_ops)},stream_ops:{open:function(r){var e=rt.ttys[r.node.rdev];if(!e)throw new ra.ErrnoError(43);r.tty=e,r.seekable=!1},close:function(r){r.tty.ops.fsync(r.tty)},fsync:function(r){r.tty.ops.fsync(r.tty)},read:function(r,e,t,n,o){if(!r.tty||!r.tty.ops.get_char)throw new ra.ErrnoError(60);for(var a,i=0,s=0;s<n;s++){try{a=r.tty.ops.get_char(r.tty)}catch(u){throw new ra.ErrnoError(29)}if(void 0===a&&0===i)throw new ra.ErrnoError(6);if(null==a)break;i++,e[t+s]=a}return i&&(r.node.timestamp=Date.now()),i},write:function(r,e,t,n,o){if(!r.tty||!r.tty.ops.put_char)throw new ra.ErrnoError(60);try{for(var a=0;a<n;a++)r.tty.ops.put_char(r.tty,e[t+a])}catch(i){throw new ra.ErrnoError(29)}return n&&(r.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(r){if(!r.input.length){var e=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(e=window.prompt("Input: "))&&(e+="\n"):"function"==typeof readline&&null!==(e=readline())&&(e+="\n"),!e)return null;r.input=re(e,!0)}return r.input.shift()},put_char:function(r,e){null===e||10===e?(D(x(r.output,0)),r.output=[]):0!=e&&r.output.push(e)},fsync:function(r){r.output&&r.output.length>0&&(D(x(r.output,0)),r.output=[])}},default_tty1_ops:{put_char:function(r,e){null===e||10===e?(F(x(r.output,0)),r.output=[]):0!=e&&r.output.push(e)},fsync:function(r){r.output&&r.output.length>0&&(F(x(r.output,0)),r.output=[])}}};function rn(r){G()}var ro={ops_table:null,mount:function(r){return ro.createNode(null,"/",16895,0)},createNode:function(r,e,t,n){if(ra.isBlkdev(t)||ra.isFIFO(t))throw new ra.ErrnoError(63);ro.ops_table||(ro.ops_table={dir:{node:{getattr:ro.node_ops.getattr,setattr:ro.node_ops.setattr,lookup:ro.node_ops.lookup,mknod:ro.node_ops.mknod,rename:ro.node_ops.rename,unlink:ro.node_ops.unlink,rmdir:ro.node_ops.rmdir,readdir:ro.node_ops.readdir,symlink:ro.node_ops.symlink},stream:{llseek:ro.stream_ops.llseek}},file:{node:{getattr:ro.node_ops.getattr,setattr:ro.node_ops.setattr},stream:{llseek:ro.stream_ops.llseek,read:ro.stream_ops.read,write:ro.stream_ops.write,allocate:ro.stream_ops.allocate,mmap:ro.stream_ops.mmap,msync:ro.stream_ops.msync}},link:{node:{getattr:ro.node_ops.getattr,setattr:ro.node_ops.setattr,readlink:ro.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ro.node_ops.getattr,setattr:ro.node_ops.setattr},stream:ra.chrdev_stream_ops}});var o=ra.createNode(r,e,t,n);return ra.isDir(o.mode)?(o.node_ops=ro.ops_table.dir.node,o.stream_ops=ro.ops_table.dir.stream,o.contents={}):ra.isFile(o.mode)?(o.node_ops=ro.ops_table.file.node,o.stream_ops=ro.ops_table.file.stream,o.usedBytes=0,o.contents=null):ra.isLink(o.mode)?(o.node_ops=ro.ops_table.link.node,o.stream_ops=ro.ops_table.link.stream):ra.isChrdev(o.mode)&&(o.node_ops=ro.ops_table.chrdev.node,o.stream_ops=ro.ops_table.chrdev.stream),o.timestamp=Date.now(),r&&(r.contents[e]=o,r.timestamp=o.timestamp),o},getFileDataAsTypedArray:function(r){return r.contents?r.contents.subarray?r.contents.subarray(0,r.usedBytes):new Uint8Array(r.contents):new Uint8Array(0)},expandFileStorage:function(r,e){var t=r.contents?r.contents.length:0;if(!(t>=e)){e=Math.max(e,t*(t<1048576?2:1.125)>>>0),0!=t&&(e=Math.max(e,256));var n=r.contents;r.contents=new Uint8Array(e),r.usedBytes>0&&r.contents.set(n.subarray(0,r.usedBytes),0)}},resizeFileStorage:function(r,e){if(r.usedBytes!=e){if(0==e)r.contents=null,r.usedBytes=0;else{var t=r.contents;r.contents=new Uint8Array(e),t&&r.contents.set(t.subarray(0,Math.min(e,r.usedBytes))),r.usedBytes=e}}},node_ops:{getattr:function(r){var e={};return e.dev=ra.isChrdev(r.mode)?r.id:1,e.ino=r.id,e.mode=r.mode,e.nlink=1,e.uid=0,e.gid=0,e.rdev=r.rdev,ra.isDir(r.mode)?e.size=4096:ra.isFile(r.mode)?e.size=r.usedBytes:ra.isLink(r.mode)?e.size=r.link.length:e.size=0,e.atime=new Date(r.timestamp),e.mtime=new Date(r.timestamp),e.ctime=new Date(r.timestamp),e.blksize=4096,e.blocks=Math.ceil(e.size/e.blksize),e},setattr:function(r,e){void 0!==e.mode&&(r.mode=e.mode),void 0!==e.timestamp&&(r.timestamp=e.timestamp),void 0!==e.size&&ro.resizeFileStorage(r,e.size)},lookup:function(r,e){throw ra.genericErrors[44]},mknod:function(r,e,t,n){return ro.createNode(r,e,t,n)},rename:function(r,e,t){if(ra.isDir(r.mode)){var n;try{n=ra.lookupNode(e,t)}catch(o){}if(n)for(var a in n.contents)throw new ra.ErrnoError(55)}delete r.parent.contents[r.name],r.parent.timestamp=Date.now(),r.name=t,e.contents[t]=r,e.timestamp=r.parent.timestamp,r.parent=e},unlink:function(r,e){delete r.contents[e],r.timestamp=Date.now()},rmdir:function(r,e){var t=ra.lookupNode(r,e);for(var n in t.contents)throw new ra.ErrnoError(55);delete r.contents[e],r.timestamp=Date.now()},readdir:function(r){var e=[".",".."];for(var t in r.contents)r.contents.hasOwnProperty(t)&&e.push(t);return e},symlink:function(r,e,t){var n=ro.createNode(r,e,41471,0);return n.link=t,n},readlink:function(r){if(!ra.isLink(r.mode))throw new ra.ErrnoError(28);return r.link}},stream_ops:{read:function(r,e,t,n,o){var a=r.node.contents;if(o>=r.node.usedBytes)return 0;var i=Math.min(r.node.usedBytes-o,n);if(i>8&&a.subarray)e.set(a.subarray(o,o+i),t);else for(var s=0;s<i;s++)e[t+s]=a[o+s];return i},write:function(r,e,t,n,o,a){if(!n)return 0;var i=r.node;if(i.timestamp=Date.now(),e.subarray&&(!i.contents||i.contents.subarray)){if(a)return i.contents=e.subarray(t,t+n),i.usedBytes=n,n;if(0===i.usedBytes&&0===o)return i.contents=e.slice(t,t+n),i.usedBytes=n,n;if(o+n<=i.usedBytes)return i.contents.set(e.subarray(t,t+n),o),n}if(ro.expandFileStorage(i,o+n),i.contents.subarray&&e.subarray)i.contents.set(e.subarray(t,t+n),o);else for(var s=0;s<n;s++)i.contents[o+s]=e[t+s];return i.usedBytes=Math.max(i.usedBytes,o+n),n},llseek:function(r,e,t){var n=e;if(1===t?n+=r.position:2===t&&ra.isFile(r.node.mode)&&(n+=r.node.usedBytes),n<0)throw new ra.ErrnoError(28);return n},allocate:function(r,e,t){ro.expandFileStorage(r.node,e+t),r.node.usedBytes=Math.max(r.node.usedBytes,e+t)},mmap:function(r,e,t,n,o){if(!ra.isFile(r.node.mode))throw new ra.ErrnoError(43);var a,i,s,l=r.node.contents;if(2&o||l.buffer!==u)throw(t>0||t+e<l.length)&&(l=l.subarray?l.subarray(t,t+e):Array.prototype.slice.call(l,t,t+e)),s=!0,i=void G(),new ra.ErrnoError(48);return s=!1,i=l.byteOffset,{ptr:i,allocated:s}},msync:function(r,e,t,n,o){return ro.stream_ops.write(r,e,0,n,t,!1),0}}},ra={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath(r,e={}){if(!(r=rr.resolve(ra.cwd(),r)))return{path:"",node:null};if((e=Object.assign({follow_mount:!0,recurse_count:0},e)).recurse_count>8)throw new ra.ErrnoError(32);for(var t=Q.normalizeArray(r.split("/").filter(r=>!!r),!1),n=ra.root,o="/",a=0;a<t.length;a++){var i=a===t.length-1;if(i&&e.parent)break;if(n=ra.lookupNode(n,t[a]),o=Q.join2(o,t[a]),ra.isMountpoint(n)&&(!i||i&&e.follow_mount)&&(n=n.mounted.root),!i||e.follow)for(var s=0;ra.isLink(n.mode);){var u=ra.readlink(o);if(o=rr.resolve(Q.dirname(o),u),n=ra.lookupPath(o,{recurse_count:e.recurse_count+1}).node,s++>40)throw new ra.ErrnoError(32)}}return{path:o,node:n}},getPath(r){for(var e;;){if(ra.isRoot(r)){var t=r.mount.mountpoint;if(!e)return t;return"/"!==t[t.length-1]?t+"/"+e:t+e}e=e?r.name+"/"+e:r.name,r=r.parent}},hashName(r,e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)|0;return(r+t>>>0)%ra.nameTable.length},hashAddNode(r){var e=ra.hashName(r.parent.id,r.name);r.name_next=ra.nameTable[e],ra.nameTable[e]=r},hashRemoveNode(r){var e=ra.hashName(r.parent.id,r.name);if(ra.nameTable[e]===r)ra.nameTable[e]=r.name_next;else for(var t=ra.nameTable[e];t;){if(t.name_next===r){t.name_next=r.name_next;break}t=t.name_next}},lookupNode(r,e){var t=ra.mayLookup(r);if(t)throw new ra.ErrnoError(t,r);for(var n=ra.hashName(r.id,e),o=ra.nameTable[n];o;o=o.name_next){var a=o.name;if(o.parent.id===r.id&&a===e)return o}return ra.lookup(r,e)},createNode(r,e,t,n){var o=new ra.FSNode(r,e,t,n);return ra.hashAddNode(o),o},destroyNode(r){ra.hashRemoveNode(r)},isRoot:r=>r===r.parent,isMountpoint:r=>!!r.mounted,isFile:r=>(61440&r)==32768,isDir:r=>(61440&r)==16384,isLink:r=>(61440&r)==40960,isChrdev:r=>(61440&r)==8192,isBlkdev:r=>(61440&r)==24576,isFIFO:r=>(61440&r)==4096,isSocket:r=>(49152&r)==49152,flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags(r){var e=ra.flagModes[r];if(void 0===e)throw Error("Unknown file open mode: "+r);return e},flagsToPermissionString(r){var e=["r","w","rw"][3&r];return 512&r&&(e+="w"),e},nodePermissions:(r,e)=>ra.ignorePermissions?0:e.includes("r")&&!(292&r.mode)||e.includes("w")&&!(146&r.mode)||e.includes("x")&&!(73&r.mode)?2:0,mayLookup(r){var e=ra.nodePermissions(r,"x");return e||(r.node_ops.lookup?0:2)},mayCreate(r,e){try{return ra.lookupNode(r,e),20}catch(t){}return ra.nodePermissions(r,"wx")},mayDelete(r,e,t){try{o=ra.lookupNode(r,e)}catch(n){return n.errno}var o,a=ra.nodePermissions(r,"wx");if(a)return a;if(t){if(!ra.isDir(o.mode))return 54;if(ra.isRoot(o)||ra.getPath(o)===ra.cwd())return 10}else if(ra.isDir(o.mode))return 31;return 0},mayOpen:(r,e)=>r?ra.isLink(r.mode)?32:ra.isDir(r.mode)&&("r"!==ra.flagsToPermissionString(e)||512&e)?31:ra.nodePermissions(r,ra.flagsToPermissionString(e)):44,MAX_OPEN_FDS:4096,nextfd(r=0,e=ra.MAX_OPEN_FDS){for(var t=r;t<=e;t++)if(!ra.streams[t])return t;throw new ra.ErrnoError(33)},getStream:r=>ra.streams[r],createStream(r,e,t){ra.FSStream||(ra.FSStream=function(){this.shared={}},ra.FSStream.prototype={},Object.defineProperties(ra.FSStream.prototype,{object:{get:function(){return this.node},set:function(r){this.node=r}},isRead:{get:function(){return(2097155&this.flags)!=1}},isWrite:{get:function(){return(2097155&this.flags)!=0}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(r){this.shared.flags=r}},position:{get:function(){return this.shared.position},set:function(r){this.shared.position=r}}})),r=Object.assign(new ra.FSStream,r);var n=ra.nextfd(e,t);return r.fd=n,ra.streams[n]=r,r},closeStream(r){ra.streams[r]=null},chrdev_stream_ops:{open(r){var e=ra.getDevice(r.node.rdev);r.stream_ops=e.stream_ops,r.stream_ops.open&&r.stream_ops.open(r)},llseek(){throw new ra.ErrnoError(70)}},major:r=>r>>8,minor:r=>255&r,makedev:(r,e)=>r<<8|e,registerDevice(r,e){ra.devices[r]={stream_ops:e}},getDevice:r=>ra.devices[r],getMounts(r){for(var e=[],t=[r];t.length;){var n=t.pop();e.push(n),t.push.apply(t,n.mounts)}return e},syncfs(r,e){"function"==typeof r&&(e=r,r=!1),ra.syncFSRequests++,ra.syncFSRequests>1&&F("warning: "+ra.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var t=ra.getMounts(ra.root.mount),n=0;function o(r){return ra.syncFSRequests--,e(r)}function a(r){if(r)return a.errored?void 0:(a.errored=!0,o(r));++n>=t.length&&o(null)}t.forEach(e=>{if(!e.type.syncfs)return a(null);e.type.syncfs(e,r,a)})},mount(r,e,t){var n,o="/"===t,a=!t;if(o&&ra.root)throw new ra.ErrnoError(10);if(!o&&!a){var i=ra.lookupPath(t,{follow_mount:!1});if(t=i.path,n=i.node,ra.isMountpoint(n))throw new ra.ErrnoError(10);if(!ra.isDir(n.mode))throw new ra.ErrnoError(54)}var s={type:r,opts:e,mountpoint:t,mounts:[]},u=r.mount(s);return u.mount=s,s.root=u,o?ra.root=u:n&&(n.mounted=s,n.mount&&n.mount.mounts.push(s)),u},unmount(r){var e=ra.lookupPath(r,{follow_mount:!1});if(!ra.isMountpoint(e.node))throw new ra.ErrnoError(28);var t=e.node,n=t.mounted,o=ra.getMounts(n);Object.keys(ra.nameTable).forEach(r=>{for(var e=ra.nameTable[r];e;){var t=e.name_next;o.includes(e.mount)&&ra.destroyNode(e),e=t}}),t.mounted=null;var a=t.mount.mounts.indexOf(n);t.mount.mounts.splice(a,1)},lookup:(r,e)=>r.node_ops.lookup(r,e),mknod(r,e,t){var n=ra.lookupPath(r,{parent:!0}).node,o=Q.basename(r);if(!o||"."===o||".."===o)throw new ra.ErrnoError(28);var a=ra.mayCreate(n,o);if(a)throw new ra.ErrnoError(a);if(!n.node_ops.mknod)throw new ra.ErrnoError(63);return n.node_ops.mknod(n,o,e,t)},create:(r,e)=>(e=void 0!==e?e:438,e&=4095,e|=32768,ra.mknod(r,e,0)),mkdir:(r,e)=>(e=void 0!==e?e:511,e&=1023,e|=16384,ra.mknod(r,e,0)),mkdirTree(r,e){for(var t=r.split("/"),n="",o=0;o<t.length;++o)if(t[o]){n+="/"+t[o];try{ra.mkdir(n,e)}catch(a){if(20!=a.errno)throw a}}},mkdev:(r,e,t)=>(void 0===t&&(t=e,e=438),e|=8192,ra.mknod(r,e,t)),symlink(r,e){if(!rr.resolve(r))throw new ra.ErrnoError(44);var t=ra.lookupPath(e,{parent:!0}).node;if(!t)throw new ra.ErrnoError(44);var n=Q.basename(e),o=ra.mayCreate(t,n);if(o)throw new ra.ErrnoError(o);if(!t.node_ops.symlink)throw new ra.ErrnoError(63);return t.node_ops.symlink(t,n,r)},rename(r,e){var t,n,o,a,i=Q.dirname(r),s=Q.dirname(e),u=Q.basename(r),l=Q.basename(e);if(n=(t=ra.lookupPath(r,{parent:!0})).node,o=(t=ra.lookupPath(e,{parent:!0})).node,!n||!o)throw new ra.ErrnoError(44);if(n.mount!==o.mount)throw new ra.ErrnoError(75);var c=ra.lookupNode(n,u),d=rr.relative(r,s);if("."!==d.charAt(0))throw new ra.ErrnoError(28);if("."!==(d=rr.relative(e,i)).charAt(0))throw new ra.ErrnoError(55);try{a=ra.lookupNode(o,l)}catch(f){}if(c!==a){var m=ra.isDir(c.mode),p=ra.mayDelete(n,u,m);if(p||(p=a?ra.mayDelete(o,l,m):ra.mayCreate(o,l)))throw new ra.ErrnoError(p);if(!n.node_ops.rename)throw new ra.ErrnoError(63);if(ra.isMountpoint(c)||a&&ra.isMountpoint(a))throw new ra.ErrnoError(10);if(o!==n&&(p=ra.nodePermissions(n,"w")))throw new ra.ErrnoError(p);ra.hashRemoveNode(c);try{n.node_ops.rename(c,o,l)}catch(h){throw h}finally{ra.hashAddNode(c)}}},rmdir(r){var e=ra.lookupPath(r,{parent:!0}).node,t=Q.basename(r),n=ra.lookupNode(e,t),o=ra.mayDelete(e,t,!0);if(o)throw new ra.ErrnoError(o);if(!e.node_ops.rmdir)throw new ra.ErrnoError(63);if(ra.isMountpoint(n))throw new ra.ErrnoError(10);e.node_ops.rmdir(e,t),ra.destroyNode(n)},readdir(r){var e=ra.lookupPath(r,{follow:!0}).node;if(!e.node_ops.readdir)throw new ra.ErrnoError(54);return e.node_ops.readdir(e)},unlink(r){var e=ra.lookupPath(r,{parent:!0}).node;if(!e)throw new ra.ErrnoError(44);var t=Q.basename(r),n=ra.lookupNode(e,t),o=ra.mayDelete(e,t,!1);if(o)throw new ra.ErrnoError(o);if(!e.node_ops.unlink)throw new ra.ErrnoError(63);if(ra.isMountpoint(n))throw new ra.ErrnoError(10);e.node_ops.unlink(e,t),ra.destroyNode(n)},readlink(r){var e=ra.lookupPath(r).node;if(!e)throw new ra.ErrnoError(44);if(!e.node_ops.readlink)throw new ra.ErrnoError(28);return rr.resolve(ra.getPath(e.parent),e.node_ops.readlink(e))},stat(r,e){var t=ra.lookupPath(r,{follow:!e}).node;if(!t)throw new ra.ErrnoError(44);if(!t.node_ops.getattr)throw new ra.ErrnoError(63);return t.node_ops.getattr(t)},lstat:r=>ra.stat(r,!0),chmod(r,e,t){var n;if(!(n="string"==typeof r?ra.lookupPath(r,{follow:!t}).node:r).node_ops.setattr)throw new ra.ErrnoError(63);n.node_ops.setattr(n,{mode:4095&e|-4096&n.mode,timestamp:Date.now()})},lchmod(r,e){ra.chmod(r,e,!0)},fchmod(r,e){var t=ra.getStream(r);if(!t)throw new ra.ErrnoError(8);ra.chmod(t.node,e)},chown(r,e,t,n){var o;if(!(o="string"==typeof r?ra.lookupPath(r,{follow:!n}).node:r).node_ops.setattr)throw new ra.ErrnoError(63);o.node_ops.setattr(o,{timestamp:Date.now()})},lchown(r,e,t){ra.chown(r,e,t,!0)},fchown(r,e,t){var n=ra.getStream(r);if(!n)throw new ra.ErrnoError(8);ra.chown(n.node,e,t)},truncate(r,e){if(e<0)throw new ra.ErrnoError(28);if("string"==typeof r){var t;t=ra.lookupPath(r,{follow:!0}).node}else t=r;if(!t.node_ops.setattr)throw new ra.ErrnoError(63);if(ra.isDir(t.mode))throw new ra.ErrnoError(31);if(!ra.isFile(t.mode))throw new ra.ErrnoError(28);var n=ra.nodePermissions(t,"w");if(n)throw new ra.ErrnoError(n);t.node_ops.setattr(t,{size:e,timestamp:Date.now()})},ftruncate(r,e){var t=ra.getStream(r);if(!t)throw new ra.ErrnoError(8);if((2097155&t.flags)==0)throw new ra.ErrnoError(28);ra.truncate(t.node,e)},utime(r,e,t){var n=ra.lookupPath(r,{follow:!0}).node;n.node_ops.setattr(n,{timestamp:Math.max(e,t)})},open(r,e,t){if(""===r)throw new ra.ErrnoError(44);if(e="string"==typeof e?ra.modeStringToFlags(e):e,t=void 0===t?438:t,t=64&e?4095&t|32768:0,"object"==typeof r)n=r;else{r=Q.normalize(r);try{var n;n=ra.lookupPath(r,{follow:!(131072&e)}).node}catch(o){}}var a=!1;if(64&e){if(n){if(128&e)throw new ra.ErrnoError(20)}else n=ra.mknod(r,t,0),a=!0}if(!n)throw new ra.ErrnoError(44);if(ra.isChrdev(n.mode)&&(e&=-513),65536&e&&!ra.isDir(n.mode))throw new ra.ErrnoError(54);if(!a){var i=ra.mayOpen(n,e);if(i)throw new ra.ErrnoError(i)}512&e&&!a&&ra.truncate(n,0),e&=-131713;var s=ra.createStream({node:n,path:ra.getPath(n),flags:e,seekable:!0,position:0,stream_ops:n.stream_ops,ungotten:[],error:!1});return s.stream_ops.open&&s.stream_ops.open(s),!E.logReadFiles||1&e||(ra.readFiles||(ra.readFiles={}),r in ra.readFiles||(ra.readFiles[r]=1)),s},close(r){if(ra.isClosed(r))throw new ra.ErrnoError(8);r.getdents&&(r.getdents=null);try{r.stream_ops.close&&r.stream_ops.close(r)}catch(e){throw e}finally{ra.closeStream(r.fd)}r.fd=null},isClosed:r=>null===r.fd,llseek(r,e,t){if(ra.isClosed(r))throw new ra.ErrnoError(8);if(!r.seekable||!r.stream_ops.llseek)throw new ra.ErrnoError(70);if(0!=t&&1!=t&&2!=t)throw new ra.ErrnoError(28);return r.position=r.stream_ops.llseek(r,e,t),r.ungotten=[],r.position},read(r,e,t,n,o){if(n<0||o<0)throw new ra.ErrnoError(28);if(ra.isClosed(r)||(2097155&r.flags)==1)throw new ra.ErrnoError(8);if(ra.isDir(r.node.mode))throw new ra.ErrnoError(31);if(!r.stream_ops.read)throw new ra.ErrnoError(28);var a=void 0!==o;if(a){if(!r.seekable)throw new ra.ErrnoError(70)}else o=r.position;var i=r.stream_ops.read(r,e,t,n,o);return a||(r.position+=i),i},write(r,e,t,n,o,a){if(n<0||o<0)throw new ra.ErrnoError(28);if(ra.isClosed(r)||(2097155&r.flags)==0)throw new ra.ErrnoError(8);if(ra.isDir(r.node.mode))throw new ra.ErrnoError(31);if(!r.stream_ops.write)throw new ra.ErrnoError(28);r.seekable&&1024&r.flags&&ra.llseek(r,0,2);var i=void 0!==o;if(i){if(!r.seekable)throw new ra.ErrnoError(70)}else o=r.position;var s=r.stream_ops.write(r,e,t,n,o,a);return i||(r.position+=s),s},allocate(r,e,t){if(ra.isClosed(r))throw new ra.ErrnoError(8);if(e<0||t<=0)throw new ra.ErrnoError(28);if((2097155&r.flags)==0)throw new ra.ErrnoError(8);if(!ra.isFile(r.node.mode)&&!ra.isDir(r.node.mode))throw new ra.ErrnoError(43);if(!r.stream_ops.allocate)throw new ra.ErrnoError(138);r.stream_ops.allocate(r,e,t)},mmap(r,e,t,n,o){if((2&n)!=0&&(2&o)==0&&(2097155&r.flags)!=2||(2097155&r.flags)==1)throw new ra.ErrnoError(2);if(!r.stream_ops.mmap)throw new ra.ErrnoError(43);return r.stream_ops.mmap(r,e,t,n,o)},msync:(r,e,t,n,o)=>r.stream_ops.msync?r.stream_ops.msync(r,e,t,n,o):0,munmap:r=>0,ioctl(r,e,t){if(!r.stream_ops.ioctl)throw new ra.ErrnoError(59);return r.stream_ops.ioctl(r,e,t)},readFile(r,e={}){if(e.flags=e.flags||0,e.encoding=e.encoding||"binary","utf8"!==e.encoding&&"binary"!==e.encoding)throw Error('Invalid encoding type "'+e.encoding+'"');var t,n=ra.open(r,e.flags),o=ra.stat(r).size,a=new Uint8Array(o);return ra.read(n,a,0,o,0),"utf8"===e.encoding?t=x(a,0):"binary"===e.encoding&&(t=a),ra.close(n),t},writeFile(r,e,t={}){t.flags=t.flags||577;var n=ra.open(r,t.flags,t.mode);if("string"==typeof e){var o=new Uint8Array(N(e)+1),a=B(e,o,0,o.length);ra.write(n,o,0,a,void 0,t.canOwn)}else if(ArrayBuffer.isView(e))ra.write(n,e,0,e.byteLength,void 0,t.canOwn);else throw Error("Unsupported data type");ra.close(n)},cwd:()=>ra.currentPath,chdir(r){var e=ra.lookupPath(r,{follow:!0});if(null===e.node)throw new ra.ErrnoError(44);if(!ra.isDir(e.node.mode))throw new ra.ErrnoError(54);var t=ra.nodePermissions(e.node,"x");if(t)throw new ra.ErrnoError(t);ra.currentPath=e.path},createDefaultDirectories(){ra.mkdir("/tmp"),ra.mkdir("/home"),ra.mkdir("/home/web_user")},createDefaultDevices(){ra.mkdir("/dev"),ra.registerDevice(ra.makedev(1,3),{read:()=>0,write:(r,e,t,n,o)=>n}),ra.mkdev("/dev/null",ra.makedev(1,3)),rt.register(ra.makedev(5,0),rt.default_tty_ops),rt.register(ra.makedev(6,0),rt.default_tty1_ops),ra.mkdev("/dev/tty",ra.makedev(5,0)),ra.mkdev("/dev/tty1",ra.makedev(6,0));var r=function r(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return()=>(crypto.getRandomValues(e),e[0])}return()=>G("randomDevice")}();ra.createDevice("/dev","random",r),ra.createDevice("/dev","urandom",r),ra.mkdir("/dev/shm"),ra.mkdir("/dev/shm/tmp")},createSpecialDirectories(){ra.mkdir("/proc");var r=ra.mkdir("/proc/self");ra.mkdir("/proc/self/fd"),ra.mount({mount(){var e=ra.createNode(r,"fd",16895,73);return e.node_ops={lookup(r,e){var t=ra.getStream(+e);if(!t)throw new ra.ErrnoError(8);var n={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>t.path}};return n.parent=n,n}},e}},{},"/proc/self/fd")},createStandardStreams(){E.stdin?ra.createDevice("/dev","stdin",E.stdin):ra.symlink("/dev/tty","/dev/stdin"),E.stdout?ra.createDevice("/dev","stdout",null,E.stdout):ra.symlink("/dev/tty","/dev/stdout"),E.stderr?ra.createDevice("/dev","stderr",null,E.stderr):ra.symlink("/dev/tty1","/dev/stderr"),ra.open("/dev/stdin",0),ra.open("/dev/stdout",1),ra.open("/dev/stderr",1)},ensureErrnoError(){ra.ErrnoError||(ra.ErrnoError=function r(e,t){this.node=t,this.setErrno=function(r){this.errno=r},this.setErrno(e),this.message="FS error"},ra.ErrnoError.prototype=Error(),ra.ErrnoError.prototype.constructor=ra.ErrnoError,[44].forEach(r=>{ra.genericErrors[r]=new ra.ErrnoError(r),ra.genericErrors[r].stack="<generic error, no stack>"}))},staticInit(){ra.ensureErrnoError(),ra.nameTable=Array(4096),ra.mount(ro,{},"/"),ra.createDefaultDirectories(),ra.createDefaultDevices(),ra.createSpecialDirectories(),ra.filesystems={MEMFS:ro}},init(r,e,t){ra.init.initialized=!0,ra.ensureErrnoError(),E.stdin=r||E.stdin,E.stdout=e||E.stdout,E.stderr=t||E.stderr,ra.createStandardStreams()},quit(){ra.init.initialized=!1;for(var r=0;r<ra.streams.length;r++){var e=ra.streams[r];e&&ra.close(e)}},getMode(r,e){var t=0;return r&&(t|=365),e&&(t|=146),t},findObject(r,e){var t=ra.analyzePath(r,e);return t.exists?t.object:null},analyzePath(r,e){try{var t=ra.lookupPath(r,{follow:!e});r=t.path}catch(n){}var o={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var t=ra.lookupPath(r,{parent:!0});o.parentExists=!0,o.parentPath=t.path,o.parentObject=t.node,o.name=Q.basename(r),t=ra.lookupPath(r,{follow:!e}),o.exists=!0,o.path=t.path,o.object=t.node,o.name=t.node.name,o.isRoot="/"===t.path}catch(a){o.error=a.errno}return o},createPath(r,e,t,n){r="string"==typeof r?r:ra.getPath(r);for(var o=e.split("/").reverse();o.length;){var a=o.pop();if(a){var i=Q.join2(r,a);try{ra.mkdir(i)}catch(s){}r=i}}return i},createFile(r,e,t,n,o){var a=Q.join2("string"==typeof r?r:ra.getPath(r),e),i=ra.getMode(n,o);return ra.create(a,i)},createDataFile(r,e,t,n,o,a){var i=e;r&&(r="string"==typeof r?r:ra.getPath(r),i=e?Q.join2(r,e):r);var s=ra.getMode(n,o),u=ra.create(i,s);if(t){if("string"==typeof t){for(var l=Array(t.length),c=0,d=t.length;c<d;++c)l[c]=t.charCodeAt(c);t=l}ra.chmod(u,146|s);var f=ra.open(u,577);ra.write(f,t,0,t.length,0,a),ra.close(f),ra.chmod(u,s)}return u},createDevice(r,e,t,n){var o=Q.join2("string"==typeof r?r:ra.getPath(r),e),a=ra.getMode(!!t,!!n);ra.createDevice.major||(ra.createDevice.major=64);var i=ra.makedev(ra.createDevice.major++,0);return ra.registerDevice(i,{open(r){r.seekable=!1},close(r){n&&n.buffer&&n.buffer.length&&n(10)},read(r,e,n,o,a){for(var i,s=0,u=0;u<o;u++){try{i=t()}catch(l){throw new ra.ErrnoError(29)}if(void 0===i&&0===s)throw new ra.ErrnoError(6);if(null==i)break;s++,e[n+u]=i}return s&&(r.node.timestamp=Date.now()),s},write(r,e,t,o,a){for(var i=0;i<o;i++)try{n(e[t+i])}catch(s){throw new ra.ErrnoError(29)}return o&&(r.node.timestamp=Date.now()),i}}),ra.mkdev(o,a,i)},forceLoadFile(r){if(r.isDevice||r.isFolder||r.link||r.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(o)try{r.contents=re(o(r.url),!0),r.usedBytes=r.contents.length}catch(e){throw new ra.ErrnoError(29)}else throw Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile(r,e,t,n,o){function a(){this.lengthKnown=!1,this.chunks=[]}if(a.prototype.get=function r(e){if(!(e>this.length-1)&&!(e<0)){var t=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[t]}},a.prototype.setDataGetter=function r(e){this.getter=e},a.prototype.cacheLength=function r(){var e,n=new XMLHttpRequest;if(n.open("HEAD",t,!1),n.send(null),!(n.status>=200&&n.status<300||304===n.status))throw Error("Couldn't load "+t+". Status: "+n.status);var o=Number(n.getResponseHeader("Content-length")),a=(e=n.getResponseHeader("Accept-Ranges"))&&"bytes"===e,i=(e=n.getResponseHeader("Content-Encoding"))&&"gzip"===e,s=1048576;a||(s=o);var u=(r,e)=>{if(r>e)throw Error("invalid range ("+r+", "+e+") or no bytes requested!");if(e>o-1)throw Error("only "+o+" bytes available! programmer error!");var n=new XMLHttpRequest;if(n.open("GET",t,!1),o!==s&&n.setRequestHeader("Range","bytes="+r+"-"+e),n.responseType="arraybuffer",n.overrideMimeType&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.send(null),!(n.status>=200&&n.status<300||304===n.status))throw Error("Couldn't load "+t+". Status: "+n.status);return void 0!==n.response?new Uint8Array(n.response||[]):re(n.responseText||"",!0)},l=this;l.setDataGetter(r=>{var e=r*s,t=(r+1)*s-1;if(t=Math.min(t,o-1),void 0===l.chunks[r]&&(l.chunks[r]=u(e,t)),void 0===l.chunks[r])throw Error("doXHR failed!");return l.chunks[r]}),(i||!o)&&(s=o=1,s=o=this.getter(0).length,D("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=o,this._chunkSize=s,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){var i=new a;Object.defineProperties(i,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var s={isDevice:!1,contents:i}}else var s={isDevice:!1,url:t};var u=ra.createFile(r,e,s,n,o);s.contents?u.contents=s.contents:s.url&&(u.contents=null,u.url=s.url),Object.defineProperties(u,{usedBytes:{get:function(){return this.contents.length}}});var c={};function d(r,e,t,n,o){var a=r.node.contents;if(o>=a.length)return 0;var i=Math.min(a.length-o,n);if(a.slice)for(var s=0;s<i;s++)e[t+s]=a[o+s];else for(var s=0;s<i;s++)e[t+s]=a.get(o+s);return i}return Object.keys(u.stream_ops).forEach(r=>{var e=u.stream_ops[r];c[r]=function r(){return ra.forceLoadFile(u),e.apply(null,arguments)}}),c.read=(r,e,t,n,o)=>(ra.forceLoadFile(u),d(r,e,t,n,o)),c.mmap=(r,e,t,n,o)=>{ra.forceLoadFile(u);var a,i=void G();if(!i)throw new ra.ErrnoError(48);return d(r,l,i,e,t),{ptr:i,allocated:!0}},u.stream_ops=c,u},createPreloadedFile(r,e,t,n,o,i,s,u,l,c){var d,f,m,p,h,$,w=e?rr.resolve(Q.join2(r,e)):r,v=$="cp "+w;function g(t){function a(t){c&&c(),u||ra.createDataFile(r,e,t,n,o,l),i&&i(),K(v)}!Browser.handledByPreloadPlugin(t,w,a,()=>{s&&s(),K(v)})&&a(t)}(X(v),"string"==typeof t)?(d=t,f=r=>g(r),m=s,h=p="al "+d,a(d,r=>{var e,t;e=r,t='Loading data file "'+d+'" failed (no arrayBuffer).',e||G(t),f(new Uint8Array(r)),h&&K(h)},r=>{if(m)m();else throw'Loading data file "'+d+'" failed.'}),h&&X(h)):g(t)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB(r,e,t){e=e||(()=>{}),t=t||(()=>{});var n=ra.indexedDB();try{var o=n.open(ra.DB_NAME(),ra.DB_VERSION)}catch(a){return t(a)}o.onupgradeneeded=()=>{D("creating db"),o.result.createObjectStore(ra.DB_STORE_NAME)},o.onsuccess=()=>{var n=o.result.transaction([ra.DB_STORE_NAME],"readwrite"),a=n.objectStore(ra.DB_STORE_NAME),i=0,s=0,u=r.length;function l(){0==s?e():t()}r.forEach(r=>{var e=a.put(ra.analyzePath(r).object.contents,r);e.onsuccess=()=>{++i+s==u&&l()},e.onerror=()=>{i+ ++s==u&&l()}}),n.onerror=t},o.onerror=t},loadFilesFromDB(r,e,t){e=e||(()=>{}),t=t||(()=>{});var n=ra.indexedDB();try{var o=n.open(ra.DB_NAME(),ra.DB_VERSION)}catch(a){return t(a)}o.onupgradeneeded=t,o.onsuccess=()=>{var n=o.result;try{var a=n.transaction([ra.DB_STORE_NAME],"readonly")}catch(i){t(i);return}var s=a.objectStore(ra.DB_STORE_NAME),u=0,l=0,c=r.length;function d(){0==l?e():t()}r.forEach(r=>{var e=s.get(r);e.onsuccess=()=>{ra.analyzePath(r).exists&&ra.unlink(r),ra.createDataFile(Q.dirname(r),Q.basename(r),e.result,!0,!0,!0),++u+l==c&&d()},e.onerror=()=>{u+ ++l==c&&d()}}),a.onerror=t},o.onerror=t}},ri={DEFAULT_POLLMASK:5,calculateAt:function(r,e,t){if(Q.isAbs(e))return e;if(-100===r)n=ra.cwd();else{var n;n=ri.getStreamFromFD(r).path}if(0==e.length){if(!t)throw new ra.ErrnoError(44);return n}return Q.join2(n,e)},doStat:function(r,e,t){try{var n=r(e)}catch(o){if(o&&o.node&&Q.normalize(e)!==Q.normalize(ra.getPath(o.node)))return -54;throw o}return m[t>>2]=n.dev,m[t+8>>2]=n.ino,m[t+12>>2]=n.mode,p[t+16>>2]=n.nlink,m[t+20>>2]=n.uid,m[t+24>>2]=n.gid,m[t+28>>2]=n.rdev,g=[n.size>>>0,+Math.abs(v=n.size)>=1?v>0?(0|Math.min(+Math.floor(v/4294967296),4294967295))>>>0:~~+Math.ceil((v-+(~~v>>>0))/4294967296)>>>0:0,],m[t+40>>2]=g[0],m[t+44>>2]=g[1],m[t+48>>2]=4096,m[t+52>>2]=n.blocks,g=[Math.floor(n.atime.getTime()/1e3)>>>0,+Math.abs(v=Math.floor(n.atime.getTime()/1e3))>=1?v>0?(0|Math.min(+Math.floor(v/4294967296),4294967295))>>>0:~~+Math.ceil((v-+(~~v>>>0))/4294967296)>>>0:0,],m[t+56>>2]=g[0],m[t+60>>2]=g[1],p[t+64>>2]=0,g=[Math.floor(n.mtime.getTime()/1e3)>>>0,+Math.abs(v=Math.floor(n.mtime.getTime()/1e3))>=1?v>0?(0|Math.min(+Math.floor(v/4294967296),4294967295))>>>0:~~+Math.ceil((v-+(~~v>>>0))/4294967296)>>>0:0,],m[t+72>>2]=g[0],m[t+76>>2]=g[1],p[t+80>>2]=0,g=[Math.floor(n.ctime.getTime()/1e3)>>>0,+Math.abs(v=Math.floor(n.ctime.getTime()/1e3))>=1?v>0?(0|Math.min(+Math.floor(v/4294967296),4294967295))>>>0:~~+Math.ceil((v-+(~~v>>>0))/4294967296)>>>0:0,],m[t+88>>2]=g[0],m[t+92>>2]=g[1],p[t+96>>2]=0,g=[n.ino>>>0,+Math.abs(v=n.ino)>=1?v>0?(0|Math.min(+Math.floor(v/4294967296),4294967295))>>>0:~~+Math.ceil((v-+(~~v>>>0))/4294967296)>>>0:0,],m[t+104>>2]=g[0],m[t+108>>2]=g[1],0},doMsync:function(r,e,t,n,o){if(!ra.isFile(e.node.mode))throw new ra.ErrnoError(43);if(2&n)return 0;var a=c.slice(r,r+t);ra.msync(e,a,o,t,n)},varargs:void 0,get:function(){return ri.varargs+=4,m[ri.varargs-4>>2]},getStr:function(r){return z(r)},getStreamFromFD:function(r){var e=ra.getStream(r);if(!e)throw new ra.ErrnoError(8);return e}};function rs(r){return r%4==0&&(r%100!=0||r%400==0)}var ru=[31,29,31,30,31,30,31,31,30,31,30,31],rl=[31,28,31,30,31,30,31,31,30,31,30,31],rc=function(r,e,t,n){r||(r=this),this.parent=r,this.mount=r.mount,this.mounted=null,this.id=ra.nextInode++,this.name=e,this.mode=t,this.node_ops={},this.stream_ops={},this.rdev=n};Object.defineProperties(rc.prototype,{read:{get:function(){return(365&this.mode)==365},set:function(r){r?this.mode|=365:this.mode&=-366}},write:{get:function(){return(146&this.mode)==146},set:function(r){r?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return ra.isDir(this.mode)}},isDevice:{get:function(){return ra.isChrdev(this.mode)}}}),ra.FSNode=rc,ra.staticInit();var rd={__assert_fail:function r(e,t,n,o){G("Assertion failed: "+z(e)+", at: "+[t?z(t):"unknown filename",n,o?z(o):"unknown function",])},__syscall_faccessat:function r(e,t,n,o){try{if(t=ri.getStr(t),t=ri.calculateAt(e,t),-8&n)return -28;var a=ra.lookupPath(t,{follow:!0}).node;if(!a)return -44;var i="";if(4&n&&(i+="r"),2&n&&(i+="w"),1&n&&(i+="x"),i&&ra.nodePermissions(a,i))return -2;return 0}catch(s){if(void 0===ra||!(s instanceof ra.ErrnoError))throw s;return-s.errno}},__syscall_fcntl64:function r(e,t,n){ri.varargs=n;try{var o=ri.getStreamFromFD(e);switch(t){case 0:var a,i=ri.get();if(i<0)return -28;return(a=ra.createStream(o,i)).fd;case 1:case 2:case 6:case 7:return 0;case 3:return o.flags;case 4:var i=ri.get();return o.flags|=i,0;case 5:var i=ri.get();return d[i+0>>1]=2,0;case 16:case 8:default:return -28;case 9:return m[rh()>>2]=28,-1}}catch(s){if(void 0===ra||!(s instanceof ra.ErrnoError))throw s;return-s.errno}},__syscall_fstat64:function r(e,t){try{var n=ri.getStreamFromFD(e);return ri.doStat(ra.stat,n.path,t)}catch(o){if(void 0===ra||!(o instanceof ra.ErrnoError))throw o;return-o.errno}},__syscall_ioctl:function r(e,t,n){ri.varargs=n;try{var o=ri.getStreamFromFD(e);switch(t){case 21509:case 21505:case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:case 21523:case 21524:if(!o.tty)return -59;return 0;case 21519:if(!o.tty)return -59;var a=ri.get();return m[a>>2]=0,0;case 21520:if(!o.tty)return -59;return -28;case 21531:var a=ri.get();return ra.ioctl(o,t,a);default:return -28}}catch(i){if(void 0===ra||!(i instanceof ra.ErrnoError))throw i;return-i.errno}},__syscall_lstat64:function r(e,t){try{return e=ri.getStr(e),ri.doStat(ra.lstat,e,t)}catch(n){if(void 0===ra||!(n instanceof ra.ErrnoError))throw n;return-n.errno}},__syscall_newfstatat:function r(e,t,n,o){try{t=ri.getStr(t);var a=256&o,i=4096&o;return o&=-4353,t=ri.calculateAt(e,t,i),ri.doStat(a?ra.lstat:ra.stat,t,n)}catch(s){if(void 0===ra||!(s instanceof ra.ErrnoError))throw s;return-s.errno}},__syscall_openat:function r(e,t,n,o){ri.varargs=o;try{t=ri.getStr(t),t=ri.calculateAt(e,t);var a=o?ri.get():0;return ra.open(t,n,a).fd}catch(i){if(void 0===ra||!(i instanceof ra.ErrnoError))throw i;return-i.errno}},__syscall_stat64:function r(e,t){try{return e=ri.getStr(e),ri.doStat(ra.stat,e,t)}catch(n){if(void 0===ra||!(n instanceof ra.ErrnoError))throw n;return-n.errno}},__syscall_unlinkat:function r(e,t,n){try{return t=ri.getStr(t),t=ri.calculateAt(e,t),0===n?ra.unlink(t):512===n?ra.rmdir(t):G("Invalid flags passed to unlinkat"),0}catch(o){if(void 0===ra||!(o instanceof ra.ErrnoError))throw o;return-o.errno}},abort:function r(){G("")},emscripten_date_now:function r(){return Date.now()},emscripten_memcpy_big:function r(e,t,n){c.copyWithin(e,t,t+n)},emscripten_resize_heap:function r(e){var t;c.length,e>>>=0,G("OOM")},fd_close:function r(e){try{var t=ri.getStreamFromFD(e);return ra.close(t),0}catch(n){if(void 0===ra||!(n instanceof ra.ErrnoError))throw n;return n.errno}},fd_read:function r(e,t,n,o){try{var a=ri.getStreamFromFD(e),i=function r(e,t,n,o){for(var a=0,i=0;i<n;i++){var s=p[t>>2],u=p[t+4>>2];t+=8;var c=ra.read(e,l,s,u,void 0);if(c<0)return -1;if(a+=c,c<u)break}return a}(a,t,n);return p[o>>2]=i,0}catch(s){if(void 0===ra||!(s instanceof ra.ErrnoError))throw s;return s.errno}},fd_seek:function r(e,t,n,o,a){try{var i,s,u=(i=t,(s=n)+2097152>>>0<4194305-!!i?(i>>>0)+4294967296*s:NaN);if(isNaN(u))return 61;var l=ri.getStreamFromFD(e);return ra.llseek(l,u,o),g=[l.position>>>0,(v=l.position,+Math.abs(v)>=1?v>0?(0|Math.min(+Math.floor(v/4294967296),4294967295))>>>0:~~+Math.ceil((v-+(~~v>>>0))/4294967296)>>>0:0),],m[a>>2]=g[0],m[a+4>>2]=g[1],l.getdents&&0===u&&0===o&&(l.getdents=null),0}catch(c){if(void 0===ra||!(c instanceof ra.ErrnoError))throw c;return c.errno}},fd_write:function r(e,t,n,o){try{var a=ri.getStreamFromFD(e),i=function r(e,t,n,o){for(var a=0,i=0;i<n;i++){var s=p[t>>2],u=p[t+4>>2];t+=8;var c=ra.write(e,l,s,u,void 0);if(c<0)return -1;a+=c}return a}(a,t,n);return p[o>>2]=i,0}catch(s){if(void 0===ra||!(s instanceof ra.ErrnoError))throw s;return s.errno}},strftime:function r(e,t,n,o){var a,i,s=m[o+40>>2],u={tm_sec:m[o>>2],tm_min:m[o+4>>2],tm_hour:m[o+8>>2],tm_mday:m[o+12>>2],tm_mon:m[o+16>>2],tm_year:m[o+20>>2],tm_wday:m[o+24>>2],tm_yday:m[o+28>>2],tm_isdst:m[o+32>>2],tm_gmtoff:m[o+36>>2],tm_zone:s?z(s):""},c=z(n),d={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var f in d)c=c.replace(RegExp(f,"g"),d[f]);var p=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday",],h=["January","February","March","April","May","June","July","August","September","October","November","December",];function $(r,e,t){for(var n="number"==typeof r?r.toString():r||"";n.length<e;)n=t[0]+n;return n}function w(r,e){return $(r,e,"0")}function v(r,e){var t;function n(r){return r<0?-1:r>0?1:0}return 0===(t=n(r.getFullYear()-e.getFullYear()))&&0===(t=n(r.getMonth()-e.getMonth()))&&(t=n(r.getDate()-e.getDate())),t}function g(r){switch(r.getDay()){case 0:return new Date(r.getFullYear()-1,11,29);case 1:return r;case 2:return new Date(r.getFullYear(),0,3);case 3:return new Date(r.getFullYear(),0,2);case 4:return new Date(r.getFullYear(),0,1);case 5:return new Date(r.getFullYear()-1,11,31);case 6:return new Date(r.getFullYear()-1,11,30)}}function y(r){var e=function r(e,t){for(var n=new Date(e.getTime());t>0;){var o=rs(n.getFullYear()),a=n.getMonth(),i=(o?ru:rl)[a];if(t>i-n.getDate())t-=i-n.getDate()+1,n.setDate(1),a<11?n.setMonth(a+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1));else{n.setDate(n.getDate()+t);break}}return n}(new Date(r.tm_year+1900,0,1),r.tm_yday),t=new Date(e.getFullYear(),0,4),n=new Date(e.getFullYear()+1,0,4),o=g(t),a=g(n);return 0>=v(o,e)?0>=v(a,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var E={"%a":function(r){return p[r.tm_wday].substring(0,3)},"%A":function(r){return p[r.tm_wday]},"%b":function(r){return h[r.tm_mon].substring(0,3)},"%B":function(r){return h[r.tm_mon]},"%C":function(r){return w((r.tm_year+1900)/100|0,2)},"%d":function(r){return w(r.tm_mday,2)},"%e":function(r){return $(r.tm_mday,2," ")},"%g":function(r){return y(r).toString().substring(2)},"%G":function(r){return y(r)},"%H":function(r){return w(r.tm_hour,2)},"%I":function(r){var e=r.tm_hour;return 0==e?e=12:e>12&&(e-=12),w(e,2)},"%j":function(r){return w(r.tm_mday+function r(e,t){for(var n=0,o=0;o<=t;n+=e[o++]);return n}(rs(r.tm_year+1900)?ru:rl,r.tm_mon-1),3)},"%m":function(r){return w(r.tm_mon+1,2)},"%M":function(r){return w(r.tm_min,2)},"%n":function(){return"\n"},"%p":function(r){return r.tm_hour>=0&&r.tm_hour<12?"AM":"PM"},"%S":function(r){return w(r.tm_sec,2)},"%t":function(){return"	"},"%u":function(r){return r.tm_wday||7},"%U":function(r){return w(Math.floor((r.tm_yday+7-r.tm_wday)/7),2)},"%V":function(r){var e=Math.floor((r.tm_yday+7-(r.tm_wday+6)%7)/7);if((r.tm_wday+371-r.tm_yday-2)%7<=2&&e++,e){if(53==e){var t=(r.tm_wday+371-r.tm_yday)%7;4==t||3==t&&rs(r.tm_year)||(e=1)}}else{e=52;var n=(r.tm_wday+7-r.tm_yday-1)%7;(4==n||5==n&&rs(r.tm_year%400-1))&&e++}return w(e,2)},"%w":function(r){return r.tm_wday},"%W":function(r){return w(Math.floor((r.tm_yday+7-(r.tm_wday+6)%7)/7),2)},"%y":function(r){return(r.tm_year+1900).toString().substring(2)},"%Y":function(r){return r.tm_year+1900},"%z":function(r){var e,t=r.tm_gmtoff;return(t>=0?"+":"-")+String("0000"+(t=(t=Math.abs(t)/60)/60*100+t%60)).slice(-4)},"%Z":function(r){return r.tm_zone},"%%":function(){return"%"}};for(var f in c=c.replace(/%%/g,"\0\0"),E)c.includes(f)&&(c=c.replace(RegExp(f,"g"),E[f](u)));var _=re(c=c.replace(/\0\0/g,"%"),!1);return _.length>t?0:(a=_,i=e,l.set(a,i),_.length-1)}};!function r(){var e,t,o={env:rd,wasi_snapshot_preview1:rd};function a(r,e){var t,n,o=r.exports;E.asm=o,u=t=(i=E.asm.memory).buffer,E.HEAP8=l=new Int8Array(t),E.HEAP16=d=new Int16Array(t),E.HEAP32=m=new Int32Array(t),E.HEAPU8=c=new Uint8Array(t),E.HEAPU16=f=new Uint16Array(t),E.HEAPU32=p=new Uint32Array(t),E.HEAPF32=h=new Float32Array(t),E.HEAPF64=$=new Float64Array(t),w=E.asm.__indirect_function_table,n=E.asm.__wasm_call_ctors,T.unshift(n),K("wasm-instantiate")}function s(r){a(r.instance)}function v(r){return Promise.resolve().then(function(){return new Uint8Array(P)}).then(function(r){return{instance:new WebAssembly.Instance(P,o)}}).then(function(r){return r}).then(r,function(r){F("failed to asynchronously prepare wasm: "+r),G(r)})}if(X("wasm-instantiate"),E.instantiateWasm)try{return E.instantiateWasm(o,a)}catch(g){F("Module.instantiateWasm callback failed with error: "+g),n(g)}return(P||"function"!=typeof WebAssembly.instantiateStreaming||(e=wasmBinaryFile).startsWith("data:application/octet-stream;base64,")||(t=wasmBinaryFile).startsWith("file://")||"function"!=typeof fetch?v(s):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(r){return WebAssembly.instantiateStreaming(r,o).then(s,function(r){return F("wasm streaming compile failed: "+r),F("falling back to ArrayBuffer instantiation"),v(s)})})).catch(n),{}}();var rf=E.___wasm_call_ctors=function(){return(rf=E.___wasm_call_ctors=E.asm.__wasm_call_ctors).apply(null,arguments)},rm=E._malloc=function(){return(rm=E._malloc=E.asm.malloc).apply(null,arguments)},rp=E._main=function(){return(rp=E._main=E.asm.__main_argc_argv).apply(null,arguments)},rh=E.___errno_location=function(){return(rh=E.___errno_location=E.asm.__errno_location).apply(null,arguments)},r$=E.stackSave=function(){return(r$=E.stackSave=E.asm.stackSave).apply(null,arguments)},rw=E.stackRestore=function(){return(rw=E.stackRestore=E.asm.stackRestore).apply(null,arguments)},rv=E.stackAlloc=function(){return(rv=E.stackAlloc=E.asm.stackAlloc).apply(null,arguments)},rg=E.dynCall_jiji=function(){return(rg=E.dynCall_jiji=E.asm.dynCall_jiji).apply(null,arguments)};function ry(r){if(r=r||k,!(q>0))!function r(){if(E.preRun)for("function"==typeof E.preRun&&(E.preRun=[E.preRun]);E.preRun.length;)H(E.preRun.shift());Z(O)}(),!(q>0)&&(E.setStatus?(E.setStatus("Running..."),setTimeout(function(){setTimeout(function(){E.setStatus("")},1),e()},1)):e());function e(){!y&&(y=!0,E.calledRun=!0,R||(I=!0,E.noFSInit||ra.init.initialized||ra.init(),ra.ignorePermissions=!1,rt.init(),Z(T),Z(j),t(E),E.onRuntimeInitialized&&E.onRuntimeInitialized(),r8&&function r(e){var t=E._main;(e=e||[]).unshift(b);var n=e.length,o=rv((n+1)*4),a=o>>2;e.forEach(r=>{var e,t,n;m[a++]=(t=N(e=r)+1,n=rv(t),B(e,l,n,t),n)}),m[a]=0;try{var i,u,c,d=t(n,o);return i=d,s=i,s=c=i,A||(E.onExit&&E.onExit(c),R=!0),S(c,new J(c)),d}catch(f){return function r(e){if(e instanceof J||"unwind"==e)return s;S(1,e)}(f)}}(r),function r(){if(E.postRun)for("function"==typeof E.postRun&&(E.postRun=[E.postRun]);E.postRun.length;)Y(E.postRun.shift());Z(C)}()))}}if(E.FS=ra,U=function r(){y||ry(),y||(U=r)},E.preInit)for("function"==typeof E.preInit&&(E.preInit=[E.preInit]);E.preInit.length>0;)E.preInit.pop()();var r8=!0;return E.noInitialRun&&(r8=!1),ry(),e.ready};